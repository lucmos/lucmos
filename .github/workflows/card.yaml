name: generate badge
on:
  workflow_dispatch:
  push:
  schedule:
    - cron: '0 0 * * 0'

jobs:
  update:
    name: Update stats card
    runs-on: ubuntu-latest
    steps:
      - uses: datarootsio/github-stats-card@v1
        with:
          username: lucmos
          gh_token_stats: ${{ secrets.GH_PAT }}
          gh_token_commits: ${{ secrets.GITHUB_TOKEN }}
          badge_path: assets/badge.svg
          header: "👋 hi i'm"
          about: "Python 🐍, climbing 🧗 and pizza 🍕"
          theme: dark
          commit_message: Badge generated by https://github.com/datarootsio/github-stats-card
